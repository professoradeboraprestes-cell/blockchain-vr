<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>How Blockchain Works - Simple 3D View</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://unpkg.com/three@0.158.0/build/three.min.js"></script>
<style>
  html, body {margin:0;overflow:hidden;background:#050514;height:100%;width:100%;}
</style>
</head>
<body>
<script>
// cena
const scene = new THREE.Scene();
scene.background = new THREE.Color(0x050514);

// câmera
const camera = new THREE.PerspectiveCamera(60, window.innerWidth/window.innerHeight, 0.1, 1000);
camera.position.set(0, 3, 15);

// renderizador
const renderer = new THREE.WebGLRenderer({antialias:true});
renderer.setSize(window.innerWidth, window.innerHeight);
document.body.appendChild(renderer.domElement);

// luz
scene.add(new THREE.PointLight(0x00ffff, 2, 100));
scene.add(new THREE.AmbientLight(0x4444ff, 0.7));

// material base
const mat = new THREE.MeshStandardMaterial({color:0x00ffff, emissive:0x0055ff});
const fontCanvas = (text, color="#ffffff", size=48) => {
  const c = document.createElement("canvas");
  c.width = 1024; c.height = 256;
  const ctx = c.getContext("2d");
  ctx.fillStyle = color;
  ctx.font = `bold ${size}px Arial`;
  ctx.textAlign = "center";
  ctx.fillText(text, c.width/2, 150);
  return new THREE.CanvasTexture(c);
};

// título
const titleTex = fontCanvas("HOW BLOCKCHAIN WORKS - 360° VIEW", "#00ffff", 56);
const title = new THREE.Mesh(
  new THREE.PlaneGeometry(14, 2),
  new THREE.MeshBasicMaterial({map:titleTex, transparent:true})
);
title.position.set(0, 6, 0);
scene.add(title);

// etapas
const steps = [
  "1. Someone requests a transaction.",
  "2. Transaction broadcast to the network.",
  "3. Network validates the transaction.",
  "4. Verified transaction involves data or cryptocurrency.",
  "5. Verified data grouped into a new block.",
  "6. New block added permanently to blockchain.",
  "7. Transaction is complete."
];

// blocos + texto
const radius = 10;
for (let i=0; i<steps.length; i++) {
  const angle = (i / steps.length) * Math.PI * 2;
  const x = Math.cos(angle) * radius;
  const z = Math.sin(angle) * radius;

  const cube = new THREE.Mesh(new THREE.BoxGeometry(1.5,1.5,1.5), mat);
  cube.position.set(x, 1.5, z);
  cube.lookAt(0, 1.5, 0);
  scene.add(cube);

  const tex = fontCanvas(steps[i]);
  const text = new THREE.Mesh(
    new THREE.PlaneGeometry(10, 2),
    new THREE.MeshBasicMaterial({map:tex, transparent:true})
  );
  text.position.set(x, -0.3, z);
  text.lookAt(0, 1.5, 0);
  scene.add(text);
}

// animação
function animate(){
  requestAnimationFrame(animate);
  scene.rotation.y += 0.002;
  renderer.render(scene, camera);
}
animate();

// redimensionar
window.addEventListener("resize", ()=>{
  camera.aspect = window.innerWidth/window.innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(window.innerWidth, window.innerHeight);
});
</script>
</body>
</html>
