<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Blockchain 360Â° Cardboard VR</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
<style>
  html,body{margin:0;overflow:hidden;background:black;height:100%;width:100%}
  .lens{position:absolute;top:0;width:50%;height:100%;overflow:hidden;border-radius:50%}
  #left{left:0}#right{right:0}
  .lens::after{content:'';position:absolute;top:0;left:0;width:100%;height:100%;
               box-shadow:inset 0 0 60px #000;border-radius:50%;pointer-events:none}
  a-scene{width:200%;height:100%;transform:translateX(-25%)}
</style>
</head>
<body>

<div id="left" class="lens">
  <a-scene embedded background="color:#010510">
    <a-entity light="type: ambient; intensity:0.6; color:#99f"></a-entity>
    <a-entity light="type: point; intensity:2; color:#0ff" position="0 3 3"></a-entity>

    <a-entity id="rig" position="0 1.6 0">
      <a-camera look-controls="reverseMouseDrag:false; touchEnabled:true">
        <a-cursor fuse="true" fuse-timeout="5000" color="#0ff"
                  geometry="primitive:ring; radius-inner:0.01; radius-outer:0.015"
                  material="shader:flat"></a-cursor>
      </a-camera>
    </a-entity>

    <!-- background and particles -->
    <a-entity geometry="primitive:sphere; radius:30"
              material="color:#021221; side:back; emissive:#00ffff;
                        emissiveIntensity:0.25; opacity:0.3"
              animation="property:rotation; to:0 360 0; loop:true; dur:120000"></a-entity>
    <a-entity particle-system="preset:dust; color:#00ffff,#00ccff,#ffffff;
                               particleCount:300; size:0.05; opacity:0.7"></a-entity>

    <a-entity id="world"></a-entity>
  </a-scene>
</div>
<div id="right" class="lens"></div>

<script>
const stages=[
 {title:"Welcome",text:"Look around to explore the Blockchain process.",pos:[0,1.6,-4],color:"#00ffff"},
 {title:"1. Transaction Request",text:"A user initiates a blockchain transaction.",pos:[4,1.6,0],color:"#00e5ff"},
 {title:"2. Broadcast",text:"The transaction is shared across the peer network.",pos:[0,3,4],color:"#03a9f4"},
 {title:"3. Validation",text:"Nodes validate it using consensus rules.",pos:[-4,1.6,0],color:"#4caf50"},
 {title:"4. Verified",text:"The valid transaction joins a new block.",pos:[0,0,4],color:"#8bc34a"},
 {title:"5. Block Created",text:"A new block is formed for the verified data.",pos:[-3,0,0],color:"#ffc107"},
 {title:"6. Added to Chain",text:"The block links cryptographically to the chain.",pos:[3,0,0],color:"#ff9800"},
 {title:"7. Complete",text:"Transaction complete. Blockchain updated.",pos:[0,-1,3],color:"#e91e63"}
];

function speak(t){
 const msg=new SpeechSynthesisUtterance(t);
 msg.lang="en-US"; msg.pitch=1.3; msg.rate=1.05; msg.volume=1;
 const v=window.speechSynthesis.getVoices()
        .find(v=>v.name.toLowerCase().includes("female")||v.name.includes("Google"));
 if(v) msg.voice=v;
 window.speechSynthesis.cancel();
 window.speechSynthesis.speak(msg);
}

window.addEventListener("load",()=>{
 const world=document.querySelector("#world");
 stages.forEach(s=>{
   const box=document.createElement("a-box");
   box.setAttribute("position",s.pos.join(" "));
   box.setAttribute("color",s.color);
   box.setAttribute("opacity","0.6");
   box.setAttribute("material",`metalness:0.7; emissive:${s.color};
                                emissiveIntensity:0.4`);
   box.setAttribute("animation","property: rotation; to: 0 360 0;
                                loop:true; dur:10000");

   const title=document.createElement("a-text");
   title.setAttribute("value",s.title);
   title.setAttribute("color",s.color);
   title.setAttribute("position",`${s.pos[0]-1} ${s.pos[1]+1} ${s.pos[2]}`);
   title.setAttribute("width","6");

   const info=document.createElement("a-text");
   info.setAttribute("value",s.text);
   info.setAttribute("color","#fff");
   info.setAttribute("position",`${s.pos[0]-1} ${s.pos[1]-0.3} ${s.pos[2]}`);
   info.setAttribute("width","6");
   info.setAttribute("opacity","0");

   box.addEventListener("mouseenter",()=>{
     info.setAttribute("opacity","1");
     speak(s.title);
   });
   box.addEventListener("mouseleave",()=>{
     info.setAttribute("opacity","0");
   });

   world.appendChild(box);
   world.appendChild(title);
   world.appendChild(info);
 });
});
</script>
</body>
</html>
