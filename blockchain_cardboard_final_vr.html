<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Blockchain VR 360° Experience</title>
    <meta
      name="viewport"
      content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no"
    />
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <style>
      body {
        margin: 0;
        background: black;
      }
      .a-enter-vr-button {
        background-color: #8a2be2 !important;
      }
    </style>
  </head>

  <body>
    <a-scene>
      <!-- background -->
      <a-sky color="#030314"></a-sky>

      <!-- subtle lights -->
      <a-entity light="type: ambient; color: #6666ff; intensity: 0.6"></a-entity>
      <a-entity
        light="type: point; color: #00ffff; intensity: 1.5; distance: 30"
        position="0 3 5"
      ></a-entity>

      <!-- title -->
      <a-entity
        text="value: HOW BLOCKCHAIN WORKS; color: #00ffff; align: center; width: 8"
        position="0 3 -5"
      ></a-entity>

      <!-- 7 blockchain stages -->
      <a-entity id="blocks"></a-entity>

      <script>
        const stages = [
          "1. Someone requests a transaction.",
          "2. The transaction is broadcast to a network of computers (nodes).",
          "3. The network validates the transaction using algorithms.",
          "4. A verified transaction may involve cryptocurrency, contracts, or records.",
          "5. Once verified, the transaction is combined with others to create a new block.",
          "6. The new block is added to the blockchain, permanent and unalterable.",
          "7. The transaction is completed."
        ];

        const radius = 5;
        const parent = document.querySelector("#blocks");

        stages.forEach((text, i) => {
          const angle = (i / stages.length) * Math.PI * 2;
          const x = Math.cos(angle) * radius;
          const z = Math.sin(angle) * radius;

          const block = document.createElement("a-box");
          block.setAttribute("color", "#00ffff");
          block.setAttribute("emissive", "#0077ff");
          block.setAttribute("depth", "1");
          block.setAttribute("height", "1");
          block.setAttribute("width", "1");
          block.setAttribute("opacity", "0.8");
          block.setAttribute("position", `${x} 1.6 ${z}`);
          block.setAttribute("look-at", "#camera");

          const label = document.createElement("a-entity");
          label.setAttribute(
            "text",
            `value:${text}; align:center; width:6; color:#ffffff`
          );
          label.setAttribute("position", `${x} 3 ${z}`);
          label.setAttribute("look-at", "#camera");

          parent.appendChild(block);
          parent.appendChild(label);
        });
      </script>

      <!-- arrows -->
      <a-entity
        text="value:← Look Left; color:#00ffff; align:center; width:4"
        position="-3 1 -3"
        look-at="#camera"
      ></a-entity>
      <a-entity
        text="value:→ Look Right; color:#00ffff; align:center; width:4"
        position="3 1 -3"
        look-at="#camera"
      ></a-entity>
      <a-entity
        text="value:↑ Look Up; color:#00ffff; align:center; width:4"
        position="0 3 -3"
        look-at="#camera"
      ></a-entity>
      <a-entity
        text="value:↓ Look Down; color:#00ffff; align:center; width:4"
        position="0 -1.5 -3"
        look-at="#camera"
      ></a-entity>

      <!-- user camera -->
      <a-entity id="camera" camera look-controls position="0 1.6 0"></a-entity>
    </a-scene>
  </body>
</html>
