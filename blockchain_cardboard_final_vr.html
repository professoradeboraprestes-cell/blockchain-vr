<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Blockchain Process - Interactive 3D</title>
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no">

<!-- Three.js core -->
<script src="https://cdn.jsdelivr.net/gh/mrdoob/three.js@r158/build/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/mrdoob/three.js@r158/examples/js/controls/OrbitControls.js"></script>
<script src="https://cdn.jsdelivr.net/gh/mrdoob/three.js@r158/examples/js/loaders/FontLoader.js"></script>
<script src="https://cdn.jsdelivr.net/gh/mrdoob/three.js@r158/examples/js/geometries/TextGeometry.js"></script>

<style>
  html,body{margin:0;overflow:hidden;background:black;height:100%;width:100%}
  #info{position:absolute;top:10px;left:10px;color:#0ff;font-family:sans-serif;font-size:14px;}
</style>
</head>
<body>
<div id="info">Touch and drag to look around</div>
<script>
const scene=new THREE.Scene();
scene.background=new THREE.Color(0x02040a);

const camera=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,0.1,1000);
camera.position.set(0,1.6,5);

const renderer=new THREE.WebGLRenderer({antialias:true});
renderer.setSize(window.innerWidth,window.innerHeight);
document.body.appendChild(renderer.domElement);

const controls=new THREE.OrbitControls(camera,renderer.domElement);
controls.enableDamping=true;
controls.dampingFactor=0.05;
controls.enablePan=false;
controls.minDistance=3;
controls.maxDistance=8;

const light=new THREE.PointLight(0x00ffff,2,50);
light.position.set(0,5,5);
scene.add(light);
scene.add(new THREE.AmbientLight(0x4444ff,0.6));

const grid=new THREE.GridHelper(20,40,0x00ffff,0x004477);
grid.position.y=-2;
scene.add(grid);

const loader=new THREE.FontLoader();
loader.load('https://threejs.org/examples/fonts/helvetiker_regular.typeface.json',font=>{
  const titleGeo=new THREE.TextGeometry("How Blockchain Works",{font:font,size:0.5,height:0.05});
  const titleMat=new THREE.MeshStandardMaterial({color:0x00ffff,emissive:0x0077ff});
  const title=new THREE.Mesh(titleGeo,titleMat);
  title.position.set(-3,3,-4);
  scene.add(title);

  const stages=[
    "1. Someone requests a transaction.",
    "2. Broadcast to a peer-to-peer network.",
    "3. Network validates using algorithms.",
    "4. Verified transaction recorded.",
    "5. Transactions combined into a block.",
    "6. Block added to blockchain, permanent.",
    "7. Transaction completed."
  ];

  const radius=6;
  stages.forEach((t,i)=>{
    const angle=(i/stages.length)*Math.PI*2;
    const x=Math.cos(angle)*radius;
    const z=Math.sin(angle)*radius;
    const cube=new THREE.Mesh(
      new THREE.BoxGeometry(1.2,1.2,1.2),
      new THREE.MeshStandardMaterial({color:0x00ffff,emissive:0x004488,transparent:true,opacity:0.8})
    );
    cube.position.set(x,1.5,z);
    cube.lookAt(0,1.5,0);
    scene.add(cube);

    const txtGeo=new THREE.TextGeometry(t,{font:font,size:0.18,height:0.01});
    const txtMat=new THREE.MeshStandardMaterial({color:0xffffff,emissive:0x00ffff});
    const txt=new THREE.Mesh(txtGeo,txtMat);
    txt.position.set(x-2,0.5,z);
    txt.lookAt(0,1.6,0);
    scene.add(txt);
  });
});

function animate(){
  requestAnimationFrame(animate);
  controls.update();
  renderer.render(scene,camera);
}
animate();

window.addEventListener('resize',()=>{
  camera.aspect=window.innerWidth/window.innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(window.innerWidth,window.innerHeight);
});
</script>
</body>
</html>
